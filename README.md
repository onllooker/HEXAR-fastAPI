# ‚öóÔ∏è –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏–Ω—Ç–µ–∑–æ–º

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ö–∏–º–∏—á–µ—Å–∫–æ–≥–æ —Å–∏–Ω—Ç–µ–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–≤–∞—Ä–∏—è—Ö —á–µ—Ä–µ–∑ Telegram.

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **FastAPI** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫.
- **PostgreSQL** ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.
- **MQTT (Mosquitto)** ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç ESP32.
- **WebSocket API** ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–ª–∏–µ–Ω—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- **Telegram Bot** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –∫–æ–º–∞–Ω–¥—ã.
- **Plotly.js / Chart.js** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö.
- **React/Vue** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ).
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è).

---

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **ESP32** ‚Äî –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ MQTT.
2. **MQTT-–±—Ä–æ–∫–µ—Ä** ‚Äî (–ª–æ–∫–∞–ª—å–Ω—ã–π –Ω–∞ Raspberry Pi –∏–ª–∏ –æ–±–ª–∞—á–Ω—ã–π) –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.
3. **FastAPI (–≤ –æ–±–ª–∞–∫–µ)** ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏–∫–æ–π, REST API.
4. **PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ç–µ–∑–æ–≤, –∞–≤–∞—Ä–∏–π –∏ –ª–æ–≥–æ–≤.
5. **Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º.
6. **Telegram Bot** ‚Äî –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –∞–≤–∞—Ä–∏–π–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. MQTT Listener

- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–æ–ø–∏–∫–∏ (`data/+/status`);
- –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è JSON-–¥–∞–Ω–Ω—ã—Ö;
- –ó–∞–ø–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ PostgreSQL;
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –∞–≤–∞—Ä–∏–π.

### 2. FastAPI

- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è;
- CRUD –¥–ª—è:
  - —Å–∏–Ω—Ç–µ–∑–æ–≤;
  - —É—Å—Ç–∞–Ω–æ–≤–æ–∫;
  - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–µ–π;
  - –∞–≤–∞—Ä–∏–π;
  - –∫–æ–º–∞–Ω–¥;
- –£–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:
  - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞ –∏ –º–µ—à–∞–ª–∫–∏;
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–ò–î-—Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞;
  - –°—Ç–∞—Ä—Ç/—Å—Ç–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–∞;
  - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

### 3. Telegram-–±–æ—Ç

- –ü–æ–ª—É—á–∞–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ–± –∞–≤–∞—Ä–∏—è—Ö;
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã;
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã:
  - –°—Ç–æ–ø –Ω–∞–≥—Ä–µ–≤–∞, –º–µ—à–∞–ª–∫–∏, —Å–∏–Ω—Ç–µ–∑–∞;
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–æ–≤ –∏ —Å—Ç–∞—Ç—É—Å–∞;
- –ò–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ü–ò–î).

### 4. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

–°—É—â–Ω–æ—Å—Ç–∏:

- `installations` ‚Äî –¥–∞–Ω–Ω—ã–µ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∞—Ö;
- `syntheses` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤;
- `sensor_data` ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏—è –æ—Ç ESP32;
- `alarms` ‚Äî –∂—É—Ä–Ω–∞–ª –∞–≤–∞—Ä–∏–π;
- `commands` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥;
- `users`, `roles`, `permissions` ‚Äî –¥–æ—Å—Ç—É–ø;
- `pid_settings` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ü–ò–î.

### 5. WebSocket API

- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏;
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∞–≤–∞—Ä–∏—è—Ö –∏ —Å—Ç–∞—Ç—É—Å–∞—Ö;
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

---

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏, —Ç–∞–±–ª–∏—Ü—ã);
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã;
- –ò—Å—Ç–æ—Ä–∏—è —Å–∏–Ω—Ç–µ–∑–æ–≤ –∏ –∞–≤–∞—Ä–∏–π;
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–≥—Ä–µ–≤, –º–µ—à–∞–ª–∫–∞, —Å–∏–Ω—Ç–µ–∑);
- –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ (–∞–¥–º–∏–Ω, –æ–ø–µ—Ä–∞—Ç–æ—Ä, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å).

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **SSL/TLS** –¥–ª—è MQTT –∏ HTTPS-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π;
- **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** –¥–ª—è REST –∏ WebSocket;
- **–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**:
  - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø;
  - –û–ø–µ—Ä–∞—Ç–æ—Ä: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–º;
  - –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å: —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä;
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ VPN (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ);
- –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è/–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏.

---

## üì° –í–Ω–µ—à–Ω–µ–µ API

FastAPI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∏—Å—Ç–µ–º:

- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏;
- –ó–∞–ø—Ä–æ—Å –∂—É—Ä–Ω–∞–ª–∞ –∞–≤–∞—Ä–∏–π;
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã;
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞.

---

## ‚öôÔ∏è –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –°–µ—Ä–≤–µ—Ä:

- FastAPI —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ –æ–±–ª–∞–∫–µ.
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MQTT-–±—Ä–æ–∫–µ—Ä—É –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –ø–æ –ø—É–±–ª–∏—á–Ω–æ–º—É –∞–¥—Ä–µ—Å—É.
- PostgreSQL ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ, –≤ Docker –∏–ª–∏ –æ–±–ª–∞—á–Ω–æ.

### ESP32:

- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Wi-Fi;
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ MQTT-–±—Ä–æ–∫–µ—Ä;
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã (–≤–∫–ª/–≤—ã–∫–ª, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å—Ç–∞—Ç—É—Å).

---

## üõ† –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `.env` —Ñ–∞–π–ª (—Å–º. `example.env`).

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä:
   ```bash
   uvicorn app.main:app --reload
   ```

4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å MQTT-–±—Ä–æ–∫–µ—Ä –∏ ESP32.

---

## üë• –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- –ê–≤—Ç–æ—Ä: [onllooker](https://github.com/onllooker)
- Telegram: [@onllooker](https://t.me/onllooker)
- Email: aanon0560@gmail.com

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. [LICENSE](https://mit-license.org/).
